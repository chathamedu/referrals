import{r as c,u as R,o as F,w as M,a as v,b as n,c as l,d as a,e as h,f as o,F as g,g as y,h as d,t,i as s}from"./index-48ddfee6.js";import{R as A}from"./ReferralsService-53fc4092.js";const S={class:"grid"},O={class:"col-12"},I={class:"card"},B=a("h5",null,"Chatham University Referrals",-1),L={class:"p-3"},V={key:0},z=a("br",null,null,-1),U={key:1},E=a("br",null,null,-1),H={key:2},G=a("br",null,null,-1),W={key:3},j=a("br",null,null,-1),q={key:4},J={key:5},K={key:6},Q=a("br",null,null,-1),X=a("br",null,null,-1),Y={key:7},Z=a("br",null,null,-1),$={key:8},P=a("br",null,null,-1),ee={key:9},ae=a("br",null,null,-1),te={key:10},ne=a("br",null,null,-1),le={key:11},de=a("br",null,null,-1),se={key:12},ie=a("br",null,null,-1),ue={key:13},oe=a("br",null,null,-1),re=a("b",null,"Notes:",-1),ce=a("br",null,null,-1),_e=a("br",null,null,-1),he={key:14},ge=a("br",null,null,-1),be={key:15},ye=a("br",null,null,-1),me={key:16},fe=a("br",null,null,-1),ve=a("br",null,null,-1),ke={key:17},xe=a("br",null,null,-1),Ne=a("br",null,null,-1),we={class:"image-text font-bold ml-2"},pe={style:{"text-align":"right"},class:"text-bold pr-6"},Re={__name:"Dashboard",setup(Te){const b=c(null),k=c(null),_=c(null),m=c([]),x=new A,N=()=>{b.value={global:{value:null,matchMode:g.CONTAINS},category:{operator:y.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},name:{operator:y.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},address1:{operator:y.AND,constraints:[{value:null,matchMode:g.CONTAINS}]}}},w=i=>{let u=0;if(console.log(i),_.value)for(let r of _.value)r.category===i&&u++;return u},{isDarkTheme:p}=R(),f=c(null);F(()=>{k.value=!1,x.getReferralDataFetch().then(i=>{_.value=i}),N()});const T=()=>{f.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},D=()=>{f.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return M(p,i=>{i?D():T()},{immediate:!0}),(i,u)=>{const r=v("Column"),C=v("DataTable");return n(),l("div",S,[a("div",O,[a("div",I,[B,h(C,{value:_.value,expandedRows:m.value,"onUpdate:expandedRows":u[0]||(u[0]=e=>m.value=e),rowGroupMode:"subheader",groupRowsBy:"category",sortMode:"single",sortField:"category",sortOrder:1,scrollable:"",scrollHeight:"600px",filters:b.value,"onUpdate:filters":u[1]||(u[1]=e=>b.value=e),filterDisplay:"menu",responsiveLayout:"scroll",globalFilterFields:["category","name"]},{empty:o(()=>[d(" No referrals found. ")]),loading:o(()=>[d(" Loading referrals data. Please wait. ")]),expansion:o(e=>[a("div",L,[a("h5",null,t(e.data.name),1),a("div",null,[e.data.business!==null&&e.data.business.length>0?(n(),l("span",V,[d(t(e.data.business)+" ",1),z])):s("",!0),e.data.address1!==null&&e.data.address1.length>0?(n(),l("span",U,[d(t(e.data.address1)+" ",1),E])):s("",!0),e.data.suite!==null&&e.data.suite.length>0?(n(),l("span",H,[d(t(e.data.suite)+" ",1),G])):s("",!0),e.data.address2!==null&&e.data.address2.length>0?(n(),l("span",W,[d(t(e.data.address2)+" ",1),j])):s("",!0),e.data.city!==null?(n(),l("span",q,t(e.data.city),1)):s("",!0),d(),e.data.state!==null?(n(),l("span",J,t(e.data.state),1)):s("",!0),d(),e.data.zip!==null?(n(),l("span",K,[d(t(e.data.zip)+" ",1),Q,X])):s("",!0),e.data.phone!==null&&e.data.phone.length>0?(n(),l("span",Y,[d("Phone: "+t(e.data.phone)+" ",1),Z])):s("",!0),e.data.fax!==null&&e.data.fax.length>0?(n(),l("span",$,[d("Fax: "+t(e.data.fax)+" ",1),P])):s("",!0),e.data.email!==null&&e.data.email.length>0?(n(),l("span",ee,[d("Email: "+t(e.data.email)+" ",1),ae])):s("",!0),e.data.ins1!==null&&e.data.ins1.length>0?(n(),l("span",te,[d("Website: "+t(e.data.ins1)+" ",1),ne])):s("",!0),e.data.ins2!==null&&e.data.ins2.length>0?(n(),l("span",le,[d("Insurance: "+t(e.data.ins2)+" ",1),de])):s("",!0),e.data.ins3!==null&&e.data.ins3.length>0?(n(),l("span",se,[d("Hours: "+t(e.data.ins3)+" ",1),ie])):s("",!0),e.data.note1!==null&&e.data.note1.length>0?(n(),l("span",ue,[oe,re,ce,d(t(e.data.note1)+" ",1),_e])):s("",!0),e.data.note2!==null&&e.data.note2.length>0?(n(),l("span",he,[d(t(e.data.note2)+" ",1),ge])):s("",!0),e.data.note3!==null&&e.data.note3.length>0?(n(),l("span",be,[d(t(e.data.note3)+" ",1),ye])):s("",!0),e.data.note4!==null&&e.data.note4.length>0?(n(),l("span",me,[fe,a("b",null,t(e.data.note4),1),ve])):s("",!0),e.data.note5!==null&&e.data.note5.length>0?(n(),l("span",ke,[xe,a("b",null,t(e.data.note5),1),Ne])):s("",!0)])])]),groupheader:o(e=>[a("span",we,t(e.data.category),1)]),groupfooter:o(e=>[a("td",pe,"Total Referrals: "+t(w(e.data.category)),1)]),default:o(()=>[h(r,{expander:!0,headerStyle:"min-width: 3rem"}),h(r,{field:"name",header:"Name",style:{"min-width":"200px"}}),h(r,{header:"Address",style:{"min-width":"300px"}},{body:o(e=>[d(t(e.data.address1)+" "+t(e.data.address2)+t(e.data.city)+" "+t(e.data.state)+" "+t(e.data.zip),1)]),_:1})]),_:1},8,["value","expandedRows","filters"])])])])}}};export{Re as default};
