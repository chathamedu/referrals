import{r,u as S,o as F,w as M,a as v,b as l,c as d,d as a,e as h,f as o,F as g,g as f,h as n,t,i as s}from"./index-670f2a44.js";import{R as A}from"./ReferralsService-f6f985ba.js";const O={class:"grid"},p={class:"col-12"},I={class:"card"},B=a("h5",null,"Chatham University's Student Health Services Referrals",-1),L={class:"p-3"},V={key:0},z=a("br",null,null,-1),H={key:1},U=a("br",null,null,-1),E={key:2},G=a("br",null,null,-1),W={key:3},j=a("br",null,null,-1),q={key:4},J={key:5},K={key:6},Q=a("br",null,null,-1),X=a("br",null,null,-1),Y={key:7},Z=["href"],$=a("br",null,null,-1),P={key:8},ee=a("br",null,null,-1),ae={key:9},te=a("br",null,null,-1),ne={key:10},le=["href"],de=a("br",null,null,-1),se={key:11},ie=["href"],ue=a("br",null,null,-1),oe={key:12},ce=a("br",null,null,-1),re={key:13},_e=a("br",null,null,-1),he={key:14},ge=a("br",null,null,-1),be=a("b",null,"Notes:",-1),fe=a("br",null,null,-1),ye=a("br",null,null,-1),me={key:15},ve=a("br",null,null,-1),ke={key:16},xe=a("br",null,null,-1),Ne={key:17},we=a("br",null,null,-1),Te=a("br",null,null,-1),De={key:18},Ce=a("br",null,null,-1),Re=a("br",null,null,-1),Se={class:"image-text font-bold ml-2"},Fe={style:{"text-align":"right"},class:"text-bold pr-6"},pe={__name:"Dashboard",setup(Me){const b=r(null),k=r(null),_=r(null),y=r([]),x=new A,N=()=>{b.value={global:{value:null,matchMode:g.CONTAINS},category:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},name:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},address1:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]}}},w=i=>{let u=0;if(console.log(i),_.value)for(let c of _.value)c.category===i&&u++;return u},{isDarkTheme:T}=S(),m=r(null);F(()=>{k.value=!1,x.getReferralDataFetch().then(i=>{_.value=i}),N()});const D=()=>{m.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},C=()=>{m.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return M(T,i=>{i?C():D()},{immediate:!0}),(i,u)=>{const c=v("Column"),R=v("DataTable");return l(),d("div",O,[a("div",p,[a("div",I,[B,h(R,{value:_.value,expandedRows:y.value,"onUpdate:expandedRows":u[0]||(u[0]=e=>y.value=e),rowGroupMode:"subheader",groupRowsBy:"category",sortMode:"single",sortField:"category",sortOrder:1,scrollable:"",scrollHeight:"600px",filters:b.value,"onUpdate:filters":u[1]||(u[1]=e=>b.value=e),filterDisplay:"menu",responsiveLayout:"scroll",globalFilterFields:["category","name"]},{empty:o(()=>[n(" No referrals found. ")]),loading:o(()=>[n(" Loading referrals data. Please wait. ")]),expansion:o(e=>[a("div",L,[a("h5",null,t(e.data.name),1),a("div",null,[e.data.business!==null&&e.data.business.length>0?(l(),d("span",V,[n(t(e.data.business)+" ",1),z])):s("",!0),e.data.address1!==null&&e.data.address1.length>0?(l(),d("span",H,[n(t(e.data.address1)+" ",1),U])):s("",!0),e.data.suite!==null&&e.data.suite.length>0?(l(),d("span",E,[n(t(e.data.suite)+" ",1),G])):s("",!0),e.data.address2!==null&&e.data.address2.length>0?(l(),d("span",W,[n(t(e.data.address2)+" ",1),j])):s("",!0),e.data.city!==null?(l(),d("span",q,t(e.data.city),1)):s("",!0),n(),e.data.state!==null?(l(),d("span",J,t(e.data.state),1)):s("",!0),n(),e.data.zip!==null?(l(),d("span",K,[n(t(e.data.zip)+" ",1),Q,X])):s("",!0),e.data.tel1!==null&&e.data.tel1.length>0?(l(),d("span",Y,[n("Phone: "),a("a",{href:"tel:"+e.data.tel1},t(e.data.phone),9,Z),n(),$])):s("",!0),e.data.tel2!==null&&e.data.tel2.length>0?(l(),d("span",P,[n("Phone: "+t(e.data.tel2)+" ",1),ee])):s("",!0),e.data.fax!==null&&e.data.fax.length>0?(l(),d("span",ae,[n("Fax: "+t(e.data.fax)+" ",1),te])):s("",!0),e.data.email!==null&&e.data.email.length>0?(l(),d("span",ne,[n("Email: "),a("a",{href:"mailto:"+e.data.email},t(e.data.email),9,le),n(),de])):s("",!0),e.data.ins1!==null&&e.data.ins1.length>0?(l(),d("span",se,[n("Website: "),a("a",{href:e.data.ins1},t(e.data.ins1),9,ie),n(),ue])):s("",!0),e.data.ins2!==null&&e.data.ins2.length>0?(l(),d("span",oe,[n("Insurance: "+t(e.data.ins2)+" ",1),ce])):s("",!0),e.data.ins3!==null&&e.data.ins3.length>0?(l(),d("span",re,[n("Hours: "+t(e.data.ins3)+" ",1),_e])):s("",!0),e.data.note1!==null&&e.data.note1.length>0?(l(),d("span",he,[ge,be,fe,n(t(e.data.note1)+" ",1),ye])):s("",!0),e.data.note2!==null&&e.data.note2.length>0?(l(),d("span",me,[n(t(e.data.note2)+" ",1),ve])):s("",!0),e.data.note3!==null&&e.data.note3.length>0?(l(),d("span",ke,[n(t(e.data.note3)+" ",1),xe])):s("",!0),e.data.note4!==null&&e.data.note4.length>0?(l(),d("span",Ne,[we,a("b",null,t(e.data.note4),1),Te])):s("",!0),e.data.note5!==null&&e.data.note5.length>0?(l(),d("span",De,[Ce,a("b",null,t(e.data.note5),1),Re])):s("",!0)])])]),groupheader:o(e=>[a("span",Se,t(e.data.category),1)]),groupfooter:o(e=>[a("td",Fe,"Total Referrals: "+t(w(e.data.category)),1)]),default:o(()=>[h(c,{expander:!0,headerStyle:"min-width: 3rem"}),h(c,{field:"name",header:"Name",style:{"min-width":"200px"}}),h(c,{header:"Address",style:{"min-width":"300px"}},{body:o(e=>[n(t(e.data.address1)+" "+t(e.data.address2)+t(e.data.city)+" "+t(e.data.state)+" "+t(e.data.zip),1)]),_:1})]),_:1},8,["value","expandedRows","filters"])])])])}}};export{pe as default};
