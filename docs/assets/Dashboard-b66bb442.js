import{r as c,u as R,o as F,w as M,a as v,b as l,c as d,d as a,e as h,f as r,F as g,g as f,h as n,t,i as s}from"./index-7932d5f7.js";import{R as A}from"./ReferralsService-14134ead.js";const S={class:"grid"},O={class:"col-12"},B={class:"card"},I=a("h5",null,"Chatham University Referrals",-1),L={class:"p-3"},V={key:0},z=a("br",null,null,-1),U={key:1},E=a("br",null,null,-1),G={key:2},H=a("br",null,null,-1),j={key:3},q=a("br",null,null,-1),J={key:4},K={key:5},Q={key:6},W=a("br",null,null,-1),X=a("br",null,null,-1),Y={key:7},Z=a("br",null,null,-1),$={key:8},P=a("br",null,null,-1),ee={key:9},ae=a("br",null,null,-1),te={key:10},ne=a("b",null,"Notes:",-1),le=a("br",null,null,-1),de=a("br",null,null,-1),se={key:11},oe=a("br",null,null,-1),ie={key:12},re=a("br",null,null,-1),ue={class:"image-text font-bold ml-2"},ce={style:{"text-align":"right"},class:"text-bold pr-6"},me={__name:"Dashboard",setup(_e){const m=c(null),p=c(null),_=c(null),y=c([]),x=new A,k=()=>{m.value={global:{value:null,matchMode:g.CONTAINS},category:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},name:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]},address1:{operator:f.AND,constraints:[{value:null,matchMode:g.CONTAINS}]}}},N=o=>{let i=0;if(console.log(o),_.value)for(let u of _.value)u.category===o&&i++;return i},{isDarkTheme:w}=R(),b=c(null);F(()=>{p.value=!1,x.getReferralDataFetch().then(o=>{_.value=o}),k()});const T=()=>{b.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},D=()=>{b.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return M(w,o=>{o?D():T()},{immediate:!0}),(o,i)=>{const u=v("Column"),C=v("DataTable");return l(),d("div",S,[a("div",O,[a("div",B,[I,h(C,{value:_.value,expandedRows:y.value,"onUpdate:expandedRows":i[0]||(i[0]=e=>y.value=e),rowGroupMode:"subheader",groupRowsBy:"category",sortMode:"single",sortField:"category",sortOrder:1,scrollable:"",scrollHeight:"600px",filters:m.value,"onUpdate:filters":i[1]||(i[1]=e=>m.value=e),filterDisplay:"menu",responsiveLayout:"scroll",globalFilterFields:["category","name"]},{empty:r(()=>[n(" No referrals found. ")]),loading:r(()=>[n(" Loading referrals data. Please wait. ")]),expansion:r(e=>[a("div",L,[a("h5",null,t(e.data.name),1),a("div",null,[e.data.business!==null&&e.data.business.length>0?(l(),d("span",V,[n(t(e.data.business)+" ",1),z])):s("",!0),e.data.address1!==null&&e.data.address1.length>0?(l(),d("span",U,[n(t(e.data.address1)+" ",1),E])):s("",!0),e.data.suite!==null&&e.data.suite.length>0?(l(),d("span",G,[n(t(e.data.suite)+" ",1),H])):s("",!0),e.data.address2!==null&&e.data.address2.length>0?(l(),d("span",j,[n(t(e.data.address2)+" ",1),q])):s("",!0),e.data.city!==null?(l(),d("span",J,t(e.data.city),1)):s("",!0),n(),e.data.state!==null?(l(),d("span",K,t(e.data.state),1)):s("",!0),n(),e.data.zip!==null?(l(),d("span",Q,[n(t(e.data.zip)+" ",1),W,X])):s("",!0),e.data.phone!==null&&e.data.phone.length>0?(l(),d("span",Y,[n("Phone: "+t(e.data.phone)+" ",1),Z])):s("",!0),e.data.fax!==null&&e.data.fax.length>0?(l(),d("span",$,[n("Fax: "+t(e.data.fax)+" ",1),P])):s("",!0),e.data.email!==null&&e.data.email.length>0?(l(),d("span",ee,[n("Email: "+t(e.data.email)+" ",1),ae])):s("",!0),e.data.note1!==null&&e.data.note1.length>0?(l(),d("span",te,[ne,le,n(t(e.data.note1)+" ",1),de])):s("",!0),e.data.note2!==null&&e.data.note2.length>0?(l(),d("span",se,[n(t(e.data.note2)+" ",1),oe])):s("",!0),e.data.note3!==null&&e.data.note3.length>0?(l(),d("span",ie,[n(t(e.data.note3)+" ",1),re])):s("",!0)])])]),groupheader:r(e=>[a("span",ue,t(e.data.category),1)]),groupfooter:r(e=>[a("td",ce,"Total Referrals: "+t(N(e.data.category)),1)]),default:r(()=>[h(u,{expander:!0,headerStyle:"min-width: 3rem"}),h(u,{field:"name",header:"Name",style:{"min-width":"200px"}}),h(u,{header:"Address",style:{"min-width":"300px"}},{body:r(e=>[n(t(e.data.address1)+" "+t(e.data.address2)+t(e.data.city)+" "+t(e.data.state)+" "+t(e.data.zip),1)]),_:1})]),_:1},8,["value","expandedRows","filters"])])])])}}};export{me as default};
